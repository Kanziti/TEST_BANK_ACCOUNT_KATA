<mat-card>
  <mat-card-header>
    <h1><mat-icon>account_balance</mat-icon> Bank account</h1>
  </mat-card-header>
  <mat-card-subtitle>
    <h5>Account ID: {{ accountId }}</h5>
  </mat-card-subtitle>

  <mat-card-content>
    <div>
      <mat-form-field>
        <input matInput type="number" [(ngModel)]="amount" placeholder="Amount">
      </mat-form-field>
      <button mat-raised-button color="primary" (click)="deposit()">Deposit</button>
      <button mat-raised-button color="warn" (click)="withdraw()">Withdraw</button>
    </div>

    <h2>Balance: {{ balance | currency:'EUR' }}</h2>
    <span><mat-icon>history</mat-icon> Transaction History: {{ transactions.length }} transactions</span>

    <mat-table [dataSource]="transactions">

      <ng-container matColumnDef="date">
        <mat-header-cell *matHeaderCellDef>Date</mat-header-cell>
        <mat-cell *matCellDef="let tx">{{ tx.date | date }}</mat-cell>
      </ng-container>

      <ng-container matColumnDef="amount">
        <mat-header-cell *matHeaderCellDef>Amount</mat-header-cell>
        <mat-cell *matCellDef="let tx">
          <span [style.color]="tx.amount.startsWith('+') ? 'green' : 'red'">
            {{ tx.amount }}
          </span>
        </mat-cell>
      </ng-container>

      <ng-container matColumnDef="balance">
        <mat-header-cell *matHeaderCellDef>Balance</mat-header-cell>
        <mat-cell *matCellDef="let tx">{{ tx.balance | currency:'EUR' }}</mat-cell>
      </ng-container>

      <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
      <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
    </mat-table>
  </mat-card-content>
</mat-card>